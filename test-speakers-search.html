<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Test Speakers Search</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
      rel="stylesheet"
    />
    <style>
      :root {
        --primary-color: #2563eb;
        --secondary-color: #fbbf24;
        --dark-gray: #374151;
      }

      .speakers-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
        gap: 2rem;
        padding: 3rem 0;
      }

      .speaker-card {
        background: white;
        border-radius: 1rem;
        overflow: hidden;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
        transition: all 0.3s ease;
        border: 1px solid #f1f5f9;
        text-align: center;
      }

      .speaker-image {
        height: 250px;
        background: linear-gradient(
          135deg,
          var(--primary-color),
          var(--secondary-color)
        );
        display: flex;
        align-items: center;
        justify-content: center;
        color: white;
        font-size: 4rem;
      }

      .speaker-content {
        padding: 2rem;
      }

      .speaker-name {
        font-size: 1.5rem;
        font-weight: 600;
        margin-bottom: 0.5rem;
        color: var(--primary-color);
      }

      .topic-tag {
        background: #f1f5f9;
        color: var(--primary-color);
        padding: 0.25rem 0.75rem;
        border-radius: 50px;
        font-size: 0.8rem;
        font-weight: 500;
        margin: 0.25rem;
        display: inline-block;
      }
    </style>
  </head>
  <body>
    <div class="container mt-5">
      <h1>Test Speakers Search</h1>

      <!-- Search Bar -->
      <div class="search-bar mb-4">
        <div class="input-group">
          <input
            type="text"
            id="speakerSearchInput"
            class="form-control"
            placeholder="Search speakers..."
            aria-label="Search speakers"
          />
          <button
            class="btn btn-primary"
            type="button"
            onclick="searchSpeakers()"
            aria-label="Search"
          >
            <i class="fas fa-search" aria-hidden="true"></i>
          </button>
          <button
            class="btn btn-outline-secondary"
            type="button"
            onclick="clearSpeakerSearch()"
            title="Clear search"
            id="clearSpeakerBtn"
            style="display: none"
          >
            <i class="fas fa-times" aria-hidden="true"></i>
          </button>
        </div>
      </div>

      <!-- Search Results Container -->
      <div id="speakerSearchResults" style="display: none">
        <div class="speakers-grid" id="searchSpeakersGrid">
          <!-- Search results will be populated here -->
        </div>
      </div>

      <!-- Default Speakers Container -->
      <div id="defaultSpeakersGrid">
        <div class="speakers-grid">
          <div class="speaker-card">
            <div class="speaker-image">
              <i class="fas fa-user"></i>
            </div>
            <div class="speaker-content">
              <h2 class="speaker-name">Dr. Sarah Johnson</h2>
              <p>CEO at Global Innovation Corp</p>
              <div class="topic-tag">Leadership</div>
              <div class="topic-tag">Innovation</div>
            </div>
          </div>
          <div class="speaker-card">
            <div class="speaker-image">
              <i class="fas fa-user"></i>
            </div>
            <div class="speaker-content">
              <h2 class="speaker-name">Michael Chen</h2>
              <p>Founder at TechVision</p>
              <div class="topic-tag">Technology</div>
              <div class="topic-tag">Entrepreneurship</div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <script>
      // Sample speakers data
      const speakersData = [
        {
          name: "Dr. Sarah Johnson",
          position: "Chief Executive Officer",
          company: "Global Innovation Corp",
          bio: "Renowned leadership expert with over 20 years of experience in transforming organizations and driving innovation across multiple industries.",
          topics: ["Leadership", "Innovation", "Strategy"],
          featured: true,
        },
        {
          name: "Michael Chen",
          position: "Founder & Chairman",
          company: "TechVision Enterprises",
          bio: "Visionary entrepreneur and thought leader in digital transformation, helping organizations navigate the complexities of the modern business landscape.",
          topics: ["Digital Transformation", "Entrepreneurship", "Technology"],
          featured: true,
        },
      ];

      function searchSpeakers() {
        console.log("üîç Speaker search function called");

        const searchInput = document.getElementById("speakerSearchInput");
        const searchResults = document.getElementById("speakerSearchResults");
        const searchGrid = document.getElementById("searchSpeakersGrid");
        const clearBtn = document.getElementById("clearSpeakerBtn");
        const defaultSpeakersContainer = document.getElementById(
          "defaultSpeakersGrid"
        );

        if (!searchInput) {
          console.error("‚ùå Speaker search input not found");
          return;
        }

        const searchTerm = searchInput.value.toLowerCase().trim();
        console.log("üîç Speaker search term:", searchTerm);

        if (searchTerm === "") {
          console.log("üîÑ Empty search, showing default speakers");
          if (searchResults) searchResults.style.display = "none";
          if (defaultSpeakersContainer)
            defaultSpeakersContainer.style.display = "block";
          if (clearBtn) clearBtn.style.display = "none";
          return;
        }

        // Filter speakers
        const filteredSpeakers = speakersData.filter(
          (speaker) =>
            speaker.name.toLowerCase().includes(searchTerm) ||
            speaker.position.toLowerCase().includes(searchTerm) ||
            speaker.company.toLowerCase().includes(searchTerm) ||
            speaker.bio.toLowerCase().includes(searchTerm) ||
            speaker.topics.some((topic) =>
              topic.toLowerCase().includes(searchTerm)
            )
        );

        console.log("‚úÖ Filtered speakers:", filteredSpeakers.length);

        // Generate HTML
        let speakersHTML = "";
        if (filteredSpeakers.length > 0) {
          filteredSpeakers.forEach((speaker) => {
            const topicTags = speaker.topics
              .map((topic) => `<span class="topic-tag">${topic}</span>`)
              .join("");
            speakersHTML += `
                    <div class="speaker-card">
                        <div class="speaker-image">
                            <i class="fas fa-user"></i>
                        </div>
                        <div class="speaker-content">
                            <h2 class="speaker-name">${speaker.name}</h2>
                            <p>${speaker.position} at ${speaker.company}</p>
                            <div>${topicTags}</div>
                        </div>
                    </div>
                `;
          });
        } else {
          speakersHTML = `
                <div style="grid-column: 1 / -1; text-align: center; padding: 4rem 0;">
                    <i class="fas fa-search" style="font-size: 4rem; margin-bottom: 1rem; opacity: 0.5;"></i>
                    <h3>No speakers found</h3>
                    <p>Try adjusting your search terms or browse all speakers.</p>
                </div>
            `;
        }

        // Update display
        if (searchGrid) searchGrid.innerHTML = speakersHTML;
        if (searchResults) searchResults.style.display = "block";
        if (defaultSpeakersContainer)
          defaultSpeakersContainer.style.display = "none";
        if (clearBtn) clearBtn.style.display = "inline-block";

        console.log("‚úÖ Speaker search results updated");
      }

      function clearSpeakerSearch() {
        console.log("üßπ Clear speaker search called");

        const searchInput = document.getElementById("speakerSearchInput");
        const searchResults = document.getElementById("speakerSearchResults");
        const clearBtn = document.getElementById("clearSpeakerBtn");
        const defaultSpeakersContainer = document.getElementById(
          "defaultSpeakersGrid"
        );

        if (searchInput) searchInput.value = "";
        if (searchResults) searchResults.style.display = "none";
        if (defaultSpeakersContainer)
          defaultSpeakersContainer.style.display = "block";
        if (clearBtn) clearBtn.style.display = "none";
      }

      // Initialize when page loads
      document.addEventListener("DOMContentLoaded", function () {
        console.log("üöÄ Speakers search initialized");

        const searchInput = document.getElementById("speakerSearchInput");
        if (searchInput) {
          // Enter key support
          searchInput.addEventListener("keypress", function (e) {
            if (e.key === "Enter") {
              e.preventDefault();
              searchSpeakers();
            }
          });

          // Real-time search with debounce
          let searchTimeout;
          searchInput.addEventListener("input", function () {
            clearTimeout(searchTimeout);
            searchTimeout = setTimeout(searchSpeakers, 300);
          });

          console.log("‚úÖ Speaker event listeners attached");
        } else {
          console.error(
            "‚ùå Speaker search input not found during initialization"
          );
        }
      });
    </script>
  </body>
</html>
